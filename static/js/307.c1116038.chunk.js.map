{"version":3,"file":"static/js/307.c1116038.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/modules/MovieSearchForm/movieSearchForm.module.css?336d","modules/MovieSearchForm/MovieSearchForm.jsx","components/pages/MoviesPage/MoviesPage.jsx","webpack://react-homework-template/./src/modules/MoviesList/moviesList.module.css?be87","modules/MoviesList/MoviesList.jsx","shared/services/movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"movieSearchForm_form__D-hgV\",\"input\":\"movieSearchForm_input__1kdFO\",\"btn\":\"movieSearchForm_btn__q83gA\"};","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./movieSearchForm.module.css\";\n\nconst MovieSearchForm = ({ onSubmit }) => {\n  const [state, setState] = useState({\n    query: \"\",\n  });\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState((prevState) => ({ ...prevState, [name]: value }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    setState({ query: \"\" });\n  };\n\n  return (\n    <form action=\"\" onSubmit={handleSubmit} className={s.form}>\n      <input\n        value={state.query}\n        name=\"query\"\n        onChange={handleChange}\n        type=\"text\"\n        className={s.input}\n      />\n      <button type=\"button\" onClick={handleSubmit} className={s.btn}>\n        Search\n      </button>\n    </form>\n  );\n};\n\nexport default MovieSearchForm;\n\nMovieSearchForm.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import { useState, useEffect } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport MoviesList from \"modules/MoviesList\";\nimport MovieSearchForm from \"modules/MovieSearchForm\";\n\nimport { getMovieBySearch } from \"shared/services/movies\";\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get(\"query\");\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      setMovies((prevState) => ({ ...prevState, loading: true }));\n      try {\n        const result = await getMovieBySearch(query);\n        setMovies((prevState) => ({\n          ...prevState,\n          loading: false,\n          items: result,\n        }));\n      } catch (error) {\n        setMovies((prevState) => ({\n          ...prevState,\n          loading: false,\n          error: error.message,\n        }));\n      }\n    };\n    if (query) {\n      fetchMovies();\n    }\n  }, [query]);\n\n  const onSubmit = ({ query }) => setSearchParams({ query });\n\n  return (\n    <>\n      <MovieSearchForm onSubmit={onSubmit} />\n      <MoviesList items={movies.items} />\n    </>\n  );\n};\n\nexport default MoviesPage;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"moviesList_list__2kWPB\",\"item\":\"moviesList_item__XvK8-\",\"link\":\"moviesList_link__p6Zt+\"};","import { Link } from \"react-router-dom\";\n\nimport s from \"./moviesList.module.css\";\n\nconst MoviesList = ({ items }) => {\n  const elements = items.map(({ id, title, name }) => (\n    <li key={id} className={s.item}>\n      <Link to={`/movies/${id}`} className={s.link}>\n        {title ?? name}\n      </Link>\n    </li>\n  ));\n\n  return <ul className={s.list}>{elements}</ul>;\n};\n\nexport default MoviesList;\n\nMoviesList.defaultProps = {\n  items: [],\n};\n","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: \"https://api.themoviedb.org/3/\",\n  params: {\n    api_key: \"e074371f26d85cdd5e4539421aae2fa2\",\n  },\n});\n\nexport const getMovies = async () => {\n  const { data } = await instance.get(\"trending/movie/day\");\n  return data.results;\n};\n\nexport const getMovieById = async (id) => {\n  const { data } = await instance.get(`movie/${id}`);\n  return data;\n};\n\nexport const getMovieCredits = async (id) => {\n  const { data } = await instance.get(`movie/${id}/credits`);\n  return data;\n};\n\nexport const getMovieReviews = async (id) => {\n  const { data } = await instance.get(`movie/${id}/reviews`);\n  return data;\n};\n\nexport const getMovieBySearch = async (query) => {\n  const { data } = await instance.get(`search/movie?query=${query}`);\n  return data.results;\n};\n"],"names":["onSubmit","useState","query","state","setState","handleSubmit","e","preventDefault","action","className","s","value","name","onChange","target","prevState","type","onClick","items","loading","error","movies","setMovies","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchMovies","getMovieBySearch","result","message","MoviesList","elements","map","id","title","to","defaultProps","instance","axios","baseURL","params","api_key","getMovies","data","results","getMovieById","getMovieCredits","getMovieReviews"],"sourceRoot":""}